{
  "title": "Create a Pricing Definition",
  "type": "object",
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^$|^[0-9a-fA-F]{24}$",
      "sanitize": "mongo"
    },
    "entityID": {
      "type": "string",
      "sanitize": "mongo"
    },
    "entityType": {
      "type": "string",
      "sanitize": "mongo",
      "enum": [
        "Tenant",
        "Company",
        "Site",
        "SiteArea",
        "ChargingStation"
      ]
    },
    "name": {
      "type": "string",
      "sanitize": "mongo"
    },
    "description": {
      "type": "string",
      "sanitize": "mongo"
    },
    "staticRestrictions": {
      "type": "object",
      "nullable": true,
      "properties": {
        "validFrom": {
          "type": "string",
          "format": "date-time",
          "sanitize": "mongo"
        },
        "validTo": {
          "type": "string",
          "format": "date-time",
          "sanitize": "mongo"
        },
        "connectorType": {
          "type": "string",
          "sanitize": "mongo",
          "enum": [
            "T2",
            "CCS",
            "C",
            "T1",
            "T3C",
            "T1CCS",
            "D",
            "U"
          ]
        },
        "connectorPowerkW": {
          "type": "number",
          "sanitize": "mongo"
        }
      }
    },
    "restrictions": {
      "type": "object",
      "nullable": true,
      "properties": {
        "minEnergyKWh": {
          "type": "number",
          "sanitize": "mongo"
        },
        "maxEnergyKWh": {
          "type": "number",
          "sanitize": "mongo"
        },
        "minDurationSecs": {
          "type": "number",
          "sanitize": "mongo"
        },
        "maxDurationSecs": {
          "type": "number",
          "sanitize": "mongo"
        }
      }
    },
    "dimensions": {
      "type": "object",
      "properties": {
        "flatFee": {
          "$ref": "pricing-definition#/definitions/pricingDimension"
        },
        "energy": {
          "$ref": "pricing-definition#/definitions/pricingDimension"
        },
        "chargingTime": {
          "$ref": "pricing-definition#/definitions/pricingDimension"
        },
        "parkingTime": {
          "$ref": "pricing-definition#/definitions/pricingDimension"
        }
      }
    }
  },
  "required": [
    "entityID",
    "entityType",
    "name",
    "dimensions"
  ]
}
