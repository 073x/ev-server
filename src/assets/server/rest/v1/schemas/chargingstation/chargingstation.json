{
  "$id": "chargingstation.json",
  "definitions": {
    "id": {
      "type": "string",
      "sanitize": "mongo"
    },
    "chargingProfile": {
      "type": "object",
      "properties": {
        "chargingProfileId": {
          "$ref": "common.json#/definitions/id"
        },
        "transactionId": {
          "$ref": "transaction.json#/definitions/id"
        },
        "stackLevel": {
          "$ref": "#/definitions/stackLevel"
        },
        "chargingProfilePurpose": {
          "$ref": "#/definitions/chargingProfilePurpose"
        },
        "chargingProfileKind": {
          "type": "string",
          "sanitize": "mongo"
        },
        "recurrencyKind": {
          "type": "string",
          "sanitize": "mongo"
        },
        "validFrom": {
          "type": "string",
          "format": "date",
          "sanitize": "mongo"
        },
        "validTo": {
          "type": "string",
          "format": "date",
          "sanitize": "mongo"
        },
        "chargingSchedule": {
          "$ref": "#/definitions/chargingSchedule"
        }
      }
    },
    "chargingSchedule": {
      "type": "object",
      "properties": {
        "duration": {
          "type": "number",
          "sanitize": "mongo"
        },
        "startSchedule": {
          "type": "string",
          "format": "date-time",
          "sanitize": "mongo"
        },
        "chargingRateUnit": {
          "type": "string",
          "sanitize": "mongo"
        },
        "chargingSchedulePeriod": {
          "$ref": "#/definitions/chargingSchedulePeriod"
        },
        "minChargeRate": {
          "type": "number",
          "sanitize": "mongo"
        }
      },
      "required": ["chargingRateUnit", "chargingSchedulePeriod"]
    },
    "chargingSchedulePeriod": {
      "type": "object",
      "properties": {
        "startPeriod": {
          "type": "number",
          "sanitize": "mongo"
        },
        "limit": {
          "type": "number",
          "sanitize": "mongo"
        },
        "numberPhases": {
          "type": "number",
          "sanitize": "mongo"
        }
      },
      "required": ["startPeriod", "limit"]
    },
    "connectorIDs": {
      "type": "string",
      "pattern": "^(\\d\\|?)*$",
      "sanitize": "mongo"
    },
    "chargingProfilePurpose": {
      "type": "string",
      "sanitize": "mongo"
    },
    "stackLevel": {
      "type": "number",
      "sanitize": "mongo"
    },
    "connector": {
      "type": "object",
      "properties": {
        "connectorId": {
          "type": "number",
          "sanitize": "mongo"
        },
        "power": {
          "type": "number",
          "sanitize": "mongo"
        },
        "voltage": {
          "type": "number",
          "enum": [110, 230],
          "sanitize": "mongo"
        },
        "amperage": {
          "type": "number",
          "sanitize": "mongo"
        },
        "currentType": {
          "type": "string",
          "enum": ["AC", "DC"],
          "sanitize": "mongo"
        },
        "numberOfConnectedPhase": {
          "type": "number",
          "sanitize": "mongo"
        },
        "phaseAssignmentToGrid": {
          "type": "object",
          "properties": {
            "csPhaseL1": {
              "type": "string",
              "sanitize": "mongo"
            },
            "csPhaseL2": {
              "type": "string",
              "sanitize": "mongo"
            },
            "csPhaseL3": {
              "type": "string",
              "sanitize": "mongo"
            }
          }
        }
      }
    },
    "chargePoint": {
      "type": "object",
      "properties": {
        "chargePointID": {
          "type": "number",
          "sanitize": "mongo"
        },
        "currentType": {
          "type": "string",
          "enum": ["AC", "DC"],
          "sanitize": "mongo"
        },
        "voltage": {
          "type": "number",
          "enum": [110, 230],
          "sanitize": "mongo"
        },
        "amperage": {
          "type": "number",
          "sanitize": "mongo"
        },
        "numberOfConnectedPhase": {
          "type": "number",
          "sanitize": "mongo"
        },
        "cannotChargeInParallel": {
          "type": "boolean",
          "sanitize": "mongo"
        },
        "sharePowerToAllConnectors": {
          "type": "boolean",
          "sanitize": "mongo"
        },
        "excludeFromPowerLimitation": {
          "type": "boolean",
          "sanitize": "mongo"
        },
        "ocppParamForPowerLimitation": {
          "type": "boolean",
          "sanitize": "mongo"
        },
        "power": {
          "type": "number",
          "sanitize": "mongo"
        },
        "efficiency": {
          "type": "number",
          "sanitize": "mongo"
        },
        "connectorIDs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/connector/properties/connectorId"
          }
        }
      }
    }
  }
}
